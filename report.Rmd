# National Poll on Healthy Aging (NPHA)

## Auteurs du Projet
[Anastasios Tsiompanidis](anastasios.tsiompanidis@etu.univ-grenoble-alpes.fr)
[Noah Kohrs](noah.kohrs@etu.univ-grenoble-alpes.fr)


## Motivation et Positionnement du Projet
L'objectif de cette analyse est de développer et de valider des algorithmes de machine learning capables de prédire le nombre de médecins consultés par une personne âgée au cours d'une année, en se basant sur un sous-ensemble filtré des données du National Poll on Healthy Aging (NPHA). Ce projet est crucial pour comprendre les besoins spécifiques des seniors en matière de santé et pour fournir des informations utiles aux prestataires de soins, aux décideurs politiques et aux défenseurs des intérêts des personnes âgées. Cette étude contribue à une meilleure gestion des ressources médicales et à l'amélioration des politiques publiques axées sur le vieillissement.

```{r}
npha <- read.csv("Project/NPHA-doctor-visits.csv")
summary(npha)
```

Comme nos valeurs sont des catégorielles représentées par des chiffres, on va les remplacer par des labels pour une meilleure compréhension.

On va d'abord définir les labels pour chaque variable catégorielle.
```{r}
doctor_labels <- c("0-1", "2-3", "4 or more")
age_labels <- c("50-64", "65-80")
health_labels <- c("Refused", "Excellent", "Very Good", "Good", "Fair", "Poor")
empl_labels <- c("Refused", "Full-time", "Part-time", "Retired", "Not working")
yes_no_labels <- c("No", "Yes")
gender_labels <- c("M", "F")
#{ -1: Refused 1: Use regularly 2: Use occasionally 3: Do not use }
medication_labels <- c("Refused", "Use regularly", "Use occasionally", "Do not use")
sleep_labels <- c("Refused", "No", "A bit", "Yes")
race_labels <- c("Not asked", "Refused", "White", "Black", "Other", "Hispanic", "2+ Races")
```

```{r}
colnames(npha)
npha$Number.of.Doctors.Visited = factor(npha$Number.of.Doctors.Visited, levels = 1:3, labels = doctor_labels, ordered = FALSE)
npha$Age = factor(npha$Age, levels = 1:2, labels = age_labels, ordered = FALSE)
npha$Physical.Health = factor(npha$Physical.Health, levels = c(-1, 1:5), labels = health_labels, ordered = FALSE)
npha$Mental.Health = factor(npha$Mental.Health, levels = c(-1, 1:5), labels = health_labels, ordered = FALSE)
npha$Dental.Health = factor(npha$Dental.Health, levels = c(-1, 1:5), labels = health_labels, ordered = FALSE)
npha$Employment = factor(npha$Employment, levels = c(-1, 1:4), labels = empl_labels, ordered = FALSE)
npha$Stress.Keeps.Patient.from.Sleeping = factor(npha$Stress.Keeps.Patient.from.Sleeping, levels = 0:1, labels = yes_no_labels, ordered = FALSE)
npha$Medication.Keeps.Patient.from.Sleeping = factor(npha$Medication.Keeps.Patient.from.Sleeping, levels = 0:1, labels = yes_no_labels, ordered = FALSE)
npha$Pain.Keeps.Patient.from.Sleeping = factor(npha$Pain.Keeps.Patient.from.Sleeping, levels = 0:1, labels = yes_no_labels, ordered = FALSE)
npha$Bathroom.Needs.Keeps.Patient.from.Sleeping = factor(npha$Bathroom.Needs.Keeps.Patient.from.Sleeping, levels = 0:1, labels = yes_no_labels, ordered = FALSE)
npha$Unknown.Keeps.Patient.from.Sleeping = factor(npha$Unknown.Keeps.Patient.from.Sleeping, levels = 0:1, labels = yes_no_labels, ordered = FALSE)
npha$Trouble.Sleeping = factor(npha$Trouble.Sleeping, levels = c(-1, 1:3), labels = sleep_labels, ordered = FALSE)
npha$Prescription.Sleep.Medication = factor(npha$Prescription.Sleep.Medication, levels = c(-1, 1:3), labels = medication_labels, ordered = FALSE)
npha$Race = factor(npha$Race, levels = 0:6, labels = race_labels, ordered = FALSE)
npha$Gender = factor(npha$Gender, levels = 1:2, labels = gender_labels, ordered = FALSE)

```
On obtient:

```{r}
summary(npha)
```

```{r}
par(mfrow = c(2, 2))
# boxplot(split(npha$Number.of.Doctors.Visited, npha$Age), main = "Number of Doctors Visited by Age Group")
# Ceci même si en théorie est intéressant, ne donne pas de résultats utiles car on a seulement 1 variable qui existe dans la base de données

boxplot(split(npha$Number.of.Doctors.Visited, npha$Employment), main = "Number of Doctors Visited by Employement Group")
boxplot(split(npha$Number.of.Doctors.Visited, npha$Physical.Health), main = "Number of Doctors Visited by Physical Health")   
boxplot(split(npha$Number.of.Doctors.Visited, npha$Mental.Health), main = "Number of Doctors Visited by Mental Health")
boxplot(split(npha$Number.of.Doctors.Visited, npha$Dental.Health), main = "Number of Doctors Visited by Dental Health")
```

## 2- Analyse descriptive 

## 3- Classification non supervisée :
```{r}
### Suppression de la variable cible (Number.of.Doctors.Visited)
npha_sans_visites <- npha[, -1]
### Normalisation des données
npha_scaled <- scale(npha_sans_visites)
boxplot(npha_scaled)
```